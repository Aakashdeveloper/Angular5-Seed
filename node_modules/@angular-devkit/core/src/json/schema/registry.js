"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const exception_1 = require("../../exception/exception");
class JsonSchemaNotFoundException extends exception_1.BaseException {
    constructor(ref) { super(`Reference "${ref}" could not be found in registry.`); }
}
exports.JsonSchemaNotFoundException = JsonSchemaNotFoundException;
class JsonSchemaRegistry {
    constructor() {
        this._cache = new Map();
    }
    addSchema(ref, schema) {
        this._cache.set(ref, schema);
    }
    hasSchema(ref) {
        return this._cache.has(ref);
    }
    getSchemaFromRef(ref) {
        const schemaCache = this._cache.get(ref);
        if (!schemaCache) {
            throw new JsonSchemaNotFoundException(ref);
        }
        return schemaCache;
    }
}
exports.JsonSchemaRegistry = JsonSchemaRegistry;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0cnkuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2hhbnNsL1NvdXJjZXMvaGFuc2wvZGV2a2l0LyIsInNvdXJjZXMiOlsicGFja2FnZXMvYW5ndWxhcl9kZXZraXQvY29yZS9zcmMvanNvbi9zY2hlbWEvcmVnaXN0cnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0dBTUc7QUFDSCx5REFBMEQ7QUFJMUQsaUNBQXlDLFNBQVEseUJBQWE7SUFDNUQsWUFBWSxHQUFXLElBQUksS0FBSyxDQUFDLGNBQWMsR0FBRyxtQ0FBbUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUMxRjtBQUZELGtFQUVDO0FBR0Q7SUFHRTtRQUZRLFdBQU0sR0FBRyxJQUFJLEdBQUcsRUFBc0IsQ0FBQztJQUVoQyxDQUFDO0lBRWhCLFNBQVMsQ0FBQyxHQUFXLEVBQUUsTUFBa0I7UUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxTQUFTLENBQUMsR0FBVztRQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVELGdCQUFnQixDQUFDLEdBQVc7UUFDMUIsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFekMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLE1BQU0sSUFBSSwyQkFBMkIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUNyQixDQUFDO0NBQ0Y7QUF0QkQsZ0RBc0JDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQmFzZUV4Y2VwdGlvbiB9IGZyb20gJy4uLy4uL2V4Y2VwdGlvbi9leGNlcHRpb24nO1xuaW1wb3J0IHsgSnNvblNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuXG5leHBvcnQgY2xhc3MgSnNvblNjaGVtYU5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgQmFzZUV4Y2VwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHJlZjogc3RyaW5nKSB7IHN1cGVyKGBSZWZlcmVuY2UgXCIke3JlZn1cIiBjb3VsZCBub3QgYmUgZm91bmQgaW4gcmVnaXN0cnkuYCk7IH1cbn1cblxuXG5leHBvcnQgY2xhc3MgSnNvblNjaGVtYVJlZ2lzdHJ5IHtcbiAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWFwPHN0cmluZywgSnNvblNjaGVtYT4oKTtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgYWRkU2NoZW1hKHJlZjogc3RyaW5nLCBzY2hlbWE6IEpzb25TY2hlbWEpIHtcbiAgICB0aGlzLl9jYWNoZS5zZXQocmVmLCBzY2hlbWEpO1xuICB9XG5cbiAgaGFzU2NoZW1hKHJlZjogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlLmhhcyhyZWYpO1xuICB9XG5cbiAgZ2V0U2NoZW1hRnJvbVJlZihyZWY6IHN0cmluZyk6IEpzb25TY2hlbWEge1xuICAgIGNvbnN0IHNjaGVtYUNhY2hlID0gdGhpcy5fY2FjaGUuZ2V0KHJlZik7XG5cbiAgICBpZiAoIXNjaGVtYUNhY2hlKSB7XG4gICAgICB0aHJvdyBuZXcgSnNvblNjaGVtYU5vdEZvdW5kRXhjZXB0aW9uKHJlZik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjaGVtYUNhY2hlO1xuICB9XG59XG4iXX0=